#author: 许韦 2016.05.30Feature:精简版云商通-体验客户账号权限"""	1.体验客户账号可以查看该客户添加的商品在自营平台的所有订单列表	2.体验客户账号可以通过过滤条件搜索订单		查询筛选功能：订单编号、下单时间、订单状态（全部、待发货、已发货、已完成）"""Background:	Given jobs登录管理系统	When jobs添加账号	"""		[{			"account_type":"体验客户",			"account_name":"土小宝",			"login_account":"tuxiaobao",			"password":"123456",			"ramarks":"土小宝客户体验账号"		},{			"account_type":"运营",			"account_name":"运营部门",			"login_account":"yunying",			"password":"123456",			"ramarks":"运营部门"		}]	"""	When aini使用密码123456登录系统	When aini添加商品	"""		[{			"name": "商品1",			"promotion_name":"促销的商品1",			"price": 12.00,			"weight": 1.00,			"stock_type": "无限",			"settlement_price":10.00,			"introduction": "商品1的简介"		},{			"name": "商品2",			"promotion_name":"促销的商品2",			"price": 12.00,			"weight": 1.00,			"stock_type": "无限",			"settlement_price":10.00,			"introduction": "商品2的简介"		},{			"name": "商品3",			"promotion_name":"促销的商品3",			"price": 12.00,			"weight": 1.00,			"stock_type": "无限",			"settlement_price":10.00,			"introduction": "商品3的简介"		}]	"""	Given jobs登录系统	When jobs已添加商品分类		"""		[{			"name": "分类1"		}, {			"name": "分类2"		}, {			"name": "分类3"		}]		"""	When jobs已添加供货商		"""		[{			"name": "爱伲咖啡",			"responsible_person": "宝宝",			"supplier_tel": "13811223344",			"supplier_address": "北京市海淀区泰兴大厦",			"remark": "备注卖咖啡"		}]		"""	And jobs添加商品		"""		[{			"weapp_id":1,			"supplier": "爱伲咖啡",			"name": "商品1",			"promotion_title": "促销的商品1",			"categories": "分类1,分类2,分类3",			"detail": "商品1的详情",			"status": "上架",			"swipe_images": [{				"url": "/standard_static/test_resource_img/hangzhou1.jpg"			}],			"price": 12.00,			"purchase_price": 10.00,			"weight": 5.0,			"stock_type": "无限"		},{			"weapp_id":2,			"supplier": "爱伲咖啡",			"name": "商品2",			"promotion_title": "促销的商品3",			"categories": "分类1,分类2,分类3",			"detail": "商品2的详情",			"status": "上架",			"swipe_images": [{				"url": "/standard_static/test_resource_img/hangzhou2.jpg"			}],			"price": 12.00,			"purchase_price": 10.00,			"weight": 5.0,			"stock_type": "无限"		},{			"weapp_id":3,			"supplier": "爱伲咖啡",			"name": "商品3",			"promotion_title": "促销的商品3",			"categories": "分类1,分类2,分类3",			"detail": "商品3的详情",			"status": "上架",			"swipe_images": [{				"url": "/standard_static/test_resource_img/hangzhou3.jpg"			}],			"price": 12.00,			"purchase_price": 10.00,			"weight": 5.0,			"stock_type": "无限"		}]		"""	When jobs开通使用微众卡权限	When jobs添加支付方式		"""		[{			"type": "货到付款",			"is_active": "启用"		},{			"type": "微信支付",			"is_active": "启用",		},{			"type": "支付宝",			"is_active": "启用"		},{			"type": "微众卡支付",			"is_active": "启用"		}]		"""	And jobs已创建微众卡		"""		{			"cards":[{				"id":"0000001",				"password":"1234567",				"status":"未使用",				"price":110.00			}]		}		"""	Given jobs已有的会员		"""		[{			"name": "bill",			"integral":"0"		},{			"name": "tom",			"integral":"200"		},{			"name": "marry",			"integral":"0"		}]		"""	And jobs已添加了优惠券规则:weapp		"""		[{			"name": "全体券1",			"money": 5.00,			"count": 1,			"coupon_id_prefix": "coupon1_id_"		}]		"""	Given jobs设定会员积分策略		"""		{			"use_ceiling": 100,			"use_condition": "on",			"integral_each_yuan": 20		}		"""	When bill访问jobs的webapp	And bill领取jobs的优惠券		"""		[{			"name": "全体券1",			"coupon_ids": ["coupon1_id_1"]		}]		"""		When 微信用户批量消费'jobs'的商品		|	order_id	  | date       | consumer |    type   |businessman|   product | payment | payment_method | freight |   price  | product_integral |  	 coupon  		| paid_amount | 		weizoom_card 		| alipay | wechat | cash |      action       |  order_status   |		|对应订单编号001  | 2016-5-11  | bill     |    购买   | jobs      | 商品1,1   | 支付    | 支付宝         | 10      | 10.00    | 		 |               		| 10.00       |              				| 10.00  | 0      | 0    | jobs,支付         |  待发货         |		|对应订单编号002  | 2016-5-15  | tom      |    购买   | jobs      | 商品2,2   | 支付    | 支付宝         | 15      | 20.00    | 200      |        				| 10.00       |              				| 10.00  | 0      | 0    | jobs,支付         |  待发货         |			|对应订单编号003  | 2016-5-21  | bill     |    购买   | jobs      | 商品3,1   | 支付    | 支付宝         | 15      | 10.00    |          | 全体券1,coupon1_id_1	| 5.00        |              			    | 5.00   | 0      | 0    | jobs,发货         |  已发货         |		|对应订单编号004  | 2016-5-22  | tom      |    购买   | jobs      | 商品1,1   | 支付    | 微信支付       | 10      | 10.00    |          |        				| 10.00       | 0000001,1234567             | 0      | 0      | 0    | jobs,完成         |  已完成          |		|对应订单编号005  | 2016-5-26  | marry    |    购买   | jobs      | 商品3,3   | 支付    | 货到付款       | 10      | 10.00    |          |       				| 30.00       |              				| 0      | 0      |30.00 | jobs,退款         |  退款中         |		|对应订单编号006  | 2016-5-28  | bill     |    购买   | jobs      | 商品1,1   | 支付    | 货到付款       | 10      | 10.00    |          |        				| 10.00       | 0000001,1234567     		| 0      | 0      | 0    | jobs,支付         |  待发货         |		|对应订单编号007  | 2016-5-30  | marry    |    购买   | jobs      | 商品2,1   | 未支付  | 货到付款       | 10      | 10.00    |          |        				| 10.00       |              				| 0      | 0      | 0    | jobs,无操作         |  待支付         |			When yunying使用密码123456登录系统	When yunying绑定商品关联的云商通商品	"""		[{			"name":"商品3",			"weapp_id":["jobs":3]		},{			"name":"商品2",			"weapp_id":["jobs":2]			},{			"name":"商品1",			"weapp_id":["jobs":1]		}]	"""@panda @customerScenario:1 客户查看订单列表	Given aini使用密码123456登录系统	Then aini能获得订单列表	"""		[{			"order_no": "006",			"order_time":"2016-05-28",			"member": "bill",			"status":"待发货",			"actions": ["发货"],			"order_price": 10.00,			"products": [{				"name": "商品1",				"price": 10.00,				"count": 1			}]		},{			"order_no": "004",			"order_time":"2016-5-22",			"member": "tom",			"status":"已完成",			"actions": ["已完成"],			"order_price": 10.00,			"products": [{				"name": "商品1",				"price": 10.00,				"count": 1			}]		},{			"order_no": "003",			"order_time":"2016-5-21",			"member": "bill",			"status":"已发货",			"actions": ["发货"],			"order_price": 10.00,			"products": [{				"name": "商品3",				"price": 10.00,				"count": 1			}]		},{			"order_no": "002",			"order_time":"2016-5-15",			"member": "tom",			"status":"待发货",			"actions": ["发货"],			"order_price": 20.00,			"products": [{				"name": "商品2",				"price": 10.00,				"count": 2			}]		},{			"order_no": "001",			"order_time":"2016-5-11",			"member": "bill",			"status":"待发货",			"actions": ["发货"],			"order_price": 10.00,			"products": [{				"name": "商品1",				"price": 10.00,				"count": 1			}]		}]	"""@panda @customerScenario:2 客户搜索订单列表	Given aini使用密码123456登录系统#使用订单编号模糊搜索订单列表	When aini设置订单列表查询条件	"""	{		"order_no": "00"	}	"""	Then aini能获得订单列表	"""		[{			"order_no": "006",			"order_time":"2016-05-28",			"member": "bill",			"status":"待发货",			"actions": ["发货"],			"order_price": 10.00,			"products": [{				"name": "商品1",				"price": 10.00,				"count": 1			}]		},{			"order_no": "004",			"order_time":"2016-5-22",			"member": "tom",			"status":"已完成",			"actions": ["已完成"],			"order_price": 10.00,			"products": [{				"name": "商品1",				"price": 10.00,				"count": 1			}]		},{			"order_no": "003",			"order_time":"2016-5-21",			"member": "bill",			"status":"已发货",			"actions": ["发货"],			"order_price": 10.00,			"products": [{				"name": "商品3",				"price": 10.00,				"count": 1			}]		},{			"order_no": "002",			"order_time":"2016-5-15",			"member": "tom",			"status":"待发货",			"actions": ["发货"],			"order_price": 20.00,			"products": [{				"name": "商品2",				"price": 10.00,				"count": 2			}]		},{			"order_no": "001",			"order_time":"2016-5-11",			"member": "bill",			"status":"待发货",			"actions": ["发货"],			"order_price": 10.00,			"products": [{				"name": "商品1",				"price": 10.00,				"count": 1			}]		}]	"""#使用订单编号精确搜索订单列表When aini设置订单列表查询条件	"""	{		"order_no": "003"	}	"""	Then aini能获得订单列表	"""		[{			"order_no": "003",			"order_time":"2016-5-21",			"member": "bill",			"status":"已发货",			"actions": ["发货"],			"order_price": 10.00,			"products": [{				"name": "商品3",				"price": 10.00,				"count": 1			}]		}]	"""#使用下单时间搜索订单列表When aini设置订单列表查询条件	"""	{		"order_time_start":"2016-5-20",		"order_time_end":"2016-5-30"	}	"""	Then aini能获得订单列表	"""		[{			"order_no": "006",			"order_time":"2016-05-28",			"member": "bill",			"status":"待发货",			"actions": ["发货"],			"order_price": 10.00,			"products": [{				"name": "商品1",				"price": 10.00,				"count": 1			}]		},{			"order_no": "004",			"order_time":"2016-5-22",			"member": "tom",			"status":"已完成",			"actions": ["已完成"],			"order_price": 10.00,			"products": [{				"name": "商品1",				"price": 10.00,				"count": 1			}]		},{			"order_no": "003",			"order_time":"2016-5-21",			"member": "bill",			"status":"已发货",			"actions": ["发货"],			"order_price": 10.00,			"products": [{				"name": "商品3",				"price": 10.00,				"count": 1			}]		}]	"""#使用订单状态搜索订单列表When aini设置订单列表查询条件	"""	{		"status":"待发货"	}	"""	Then aini能获得订单列表	"""		[{			"order_no": "006",			"order_time":"2016-05-28",			"member": "bill",			"status":"待发货",			"actions": ["发货"],			"order_price": 10.00,			"products": [{				"name": "商品1",				"price": 10.00,				"count": 1			}]		},{			"order_no": "002",			"order_time":"2016-5-15",			"member": "tom",			"status":"待发货",			"actions": ["发货"],			"order_price": 20.00,			"products": [{				"name": "商品2",				"price": 10.00,				"count": 2			}]		},{			"order_no": "001",			"order_time":"2016-5-11",			"member": "bill",			"status":"待发货",			"actions": ["发货"],			"order_price": 10.00,			"products": [{				"name": "商品1",				"price": 10.00,				"count": 1			}]		}]	"""Scenario:3 客户操作订单列表	Given aini使用密码123456登录系统	When aini对订单进行发货		"""		[{			"order_no": "001",			"logistics": "申通快递",			"number": "1122006",			"shipper": "发货员"		},{			"order_no": "002",			"logistics": "申通快递",			"number": "2257897",			"shipper": "发货员"		},{			"order_no": "006",			"logistics": "申通快递",			"number": "6565888",			"shipper": "发货员"		}]		"""	Then aini能获得订单列表		"""		[{			"order_no": "006",			"order_time":"2016-05-28",			"member": "bill",			"status":"已发货",			"actions": ["发货"],			"order_price": 10.00,			"products": [{				"name": "商品1",				"price": 10.00,				"count": 1			}]		},{			"order_no": "004",			"order_time":"2016-5-22",			"member": "tom",			"status":"已完成",			"actions": ["已完成"],			"order_price": 10.00,			"products": [{				"name": "商品1",				"price": 10.00,				"count": 1			}]		},{			"order_no": "003",			"order_time":"2016-5-21",			"member": "bill",			"status":"已发货",			"actions": ["发货"],			"order_price": 10.00,			"products": [{				"name": "商品3",				"price": 10.00,				"count": 1			}]		},{			"order_no": "002",			"order_time":"2016-5-15",			"member": "tom",			"status":"已发货",			"actions": ["发货"],			"order_price": 20.00,			"products": [{				"name": "商品2",				"price": 10.00,				"count": 2			}]		},{			"order_no": "001",			"order_time":"2016-5-11",			"member": "bill",			"status":"已发货",			"actions": ["发货"],			"order_price": 10.00,			"products": [{				"name": "商品1",				"price": 10.00,				"count": 1			}]		}]		"""	When aini '完成'订单'001'	Then aini能获得订单列表		"""		[{			"order_no": "006",			"order_time":"2016-05-28",			"member": "bill",			"status":"已发货",			"actions": ["发货"],			"order_price": 10.00,			"products": [{				"name": "商品1",				"price": 10.00,				"count": 1			}]		},{			"order_no": "004",			"order_time":"2016-5-22",			"member": "tom",			"status":"已完成",			"actions": ["已完成"],			"order_price": 10.00,			"products": [{				"name": "商品1",				"price": 10.00,				"count": 1			}]		},{			"order_no": "003",			"order_time":"2016-5-21",			"member": "bill",			"status":"已发货",			"actions": ["发货"],			"order_price": 10.00,			"products": [{				"name": "商品3",				"price": 10.00,				"count": 1			}]		},{			"order_no": "002",			"order_time":"2016-5-15",			"member": "tom",			"status":"已发货",			"actions": ["发货"],			"order_price": 20.00,			"products": [{				"name": "商品2",				"price": 10.00,				"count": 2			}]		},{			"order_no": "001",			"order_time":"2016-5-11",			"member": "bill",			"status":"已完成",			"actions": ["已完成"],			"order_price": 10.00,			"products": [{				"name": "商品1",				"price": 10.00,				"count": 1			}]		}]		"""